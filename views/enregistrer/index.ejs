<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../public/enregistrer/css/style.css">
    <!---------------------------------Font icons------------------------------->
    <link rel="stylesheet" href="../../public/enregistrer/css/all.css">
    <!--------------------------And of Font icons------------------------------>
    <title>Ajouter client</title>
    <link rel="stylesheet" type="text/css" href="../../public/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="../../public/fontawesome-5.15.2/css/fontawesome.min.css">


    <!---------------------------------boostrap------------------------------->
    <link rel="stylesheet" href="../../public/Accueil/css/bootstrap.min.css">
    <!--------------------------And of boostrap------------------------------>

    <!---------------------------------Font icons------------------------------->
    <link rel="stylesheet" href="../../public/Accueil/css/all.css">
    <script src="../../public/js/all.min.js"></script>
</head>

<body>
<!--------------------------------Navigation------------------------------->
<header>
    <ul>
        <img src="/image/Logo-atitle-hotelJ.png" class="logo" alt="">
        <li class="clientNom" id="" style="float:left"> ALTITEL HOTEL</li>
        <li><a href="/logout" class="deconnexion">Déconnexion</a></li>
        <li class=" main_courante"><a href="/receptioniste/main_courant">Main courante</a></li>
        <li class="bilan"><a href="">Bilan</a></li>
        <li class=" accueil"><a href="/acceuil/clients">Accueil</a></li>
    </ul>
</header>

<!--      <nav class="nav">-->
<!--          <div class="nav-menu flex-row">-->
<!--              <div class="nav-brand">-->
<!--                  <div class="img">-->
<!--                    <img src="/image/Logo-atitle-hotelJ.png" alt="logo"  style="width: 50px; height: 50px;">-->
<!--                  </div>          -->
<!--                    <span> HOTEL ALTITEL</span>-->
<!--              </div>-->
<!--              -->

<!--              <div class="toggle-collapse">-->
<!--                  <div class="toggle-icons">-->
<!--                      <i class="fas fa-bars"></i>-->
<!--                  </div>-->
<!--              </div>-->

<!--              <div class="nav-items">-->
<!--                  <li class="nav-link">-->
<!--                    <a href="/acceuil/clients">Accueil</a>-->
<!--                  </li>-->
<!--                  <li class="nav-link">-->
<!--                    <a href="/receptioniste/main_courant">Main courant</a>-->
<!--                  </li>-->
<!--                  <li class="nav-link">-->
<!--                    <a href="">Bilan</a>-->
<!--                  </li>-->
<!--                  <li class="nav-link">-->
<!--                    <a href="">Facture</a>-->
<!--                  </li>-->
<!--                  <li class="nav-link">-->
<!--                    <a href="">Contact </a>-->
<!--                  </li>-->
<!--              </div>-->

<!--              <div class="social text-gray">-->
<!--                <a href="/logout" class="lien">Déconnexion</a>-->
<!--              </div>-->
<!--          </div>-->
<!--        </nav>-->

<!-----------------------------End of Navigation--------------------------->
<div>
<% if(typeof alert != 'undefined'){ %>
    <% alert.forEach(function(error){ %>
        <div class="champ justify-content-center text-center d-flex">
            <div class="col-md-8 p-2 text-center  alert-danger">
                <%= error.msg %>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        </div>
    <% }) %>

<% } %>
</div>
<section class="container">
    <div class="content">
        <form method="post" action="/client/rechercher">
            <h2><strong>Enregistrement des clients</strong></h2>
            <div class="bar_de_recherche">
                <input type="search" name="rechercher" id="Recherche" require="Entrer le numéro de CNI"
                       placeholder="Rechercher un clien..." class="recherche">
                <button type="submit" class="boutton_recherche"><strong>Recherche</strong></button>
            </div>
        </form>

    </div>
    <form method="post" action="/receptioniste/client/ajouter">
        <div class="">
            <h3><strong>Information du client</strong></h3>
            <div class="container-fluid">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="row">
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                            <div class="form-group">
                                <label>Nom du client<span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="nom" name="nom"
                                       required="Veillez saisir le nom du client" min="3">
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                            <div class="form-group">
                                <label>Prenom du client<span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="prenom" name="prenom">
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                            <div class="form-group">
                                <label>Numero de passeport ou CNI <span class="text-danger">*</span></label>
                                <input type="text" id="cni" class="form-control" name="cni"
                                       required="Veillez entrer le numére de passeport ou  CNI">
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                            <div class="form-group">
                                <label>Date délivrance <span class="text-danger">*</span></label>
                                <input type="date" id="date_del" class="form-control" name="date_del">
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                            <div class="form-group">
                                <label>Lieu de délivrance</label>
                                <input type="text" id="lieu_del" class="form-control" name="lieu_del">
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                            <div class="form-group">
                                <label>Date de Naissance<span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="date_nais" name="date_nais" required>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                            <div class="form-group">
                                <label>Lieu de naissance<span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="lieu_nais" name="lieu_nais" required>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                            <div class="form-group">
                                <label>Numéro de téléphone<span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="phone" name="phone" required>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                            <div class="form-group">
                                <label>Pays de résidence<span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="pays" name="pays" required>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                            <div class="form-group">
                                <label>Nationalité<span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="nationalite" name="nationalite" required>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                            <div class="form-group">
                                <label>Profession<span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="profession" name="profession" required>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                            <div class="form-group">
                                <label>Venant de se rendant à<span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="destination" name="destination">
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                            <div class="form-group">
                                <label>Mode de transport et matricule à<span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="transport" name="transport">
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                            <div class="form-group">
                                <label>Nombre de personne<span class="text-danger">*</span></label>
                                <input type="number" class="form-control" id="nbpersonne" name="nbpersonne">
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                            <div class="form-group">
                                <label>Date arrivée<span class="text-danger">*</span></label>
                                <input type="date" class="form-control" id="date_arrive" name="date_arrive">
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                            <div class="form-group">
                                <label>Date Départ<span class="text-danger">*</span></label>
                                <input type="date" class="form-control" id="date_depart" name="date_depart">
                            </div>
                        </div>
                    </div>

                    <div class="row">

                    </div>

                </div>
            </div>

            <h2 style="margin-top: 2%; text-align: center">Chambre(s) disponible(s)</h2>

            <div class="etat champ">
                <div class="col-md-12 col-ms-12 col-xl-12 col-lg-12">
                    <div class="row">
                        <div class="col-md-4 col-lg-4 col-xl-4">
                            <div class="chambre_standart">
                                <p>Chambre standart</p>

                                <% row.forEach(function(r){

                                if(r.categorie === 'chambre standart'){
                                %>
                                    <div class="row">
                                        <div class="col-md-4 col-lg-4">
                                            N°
                                            <%= r.id_chambre %>
                                            <input type="checkbox" class="back"
                                                   onchange="showMontant(<%= r.id_chambre %>)"
                                                   id="chambre<%= r.id_chambre %>" name="chambre"
                                                   value="<%= r.id_chambre %>">

                                        </div>
                                        <div class="col-md-6 col-lg-6" style="display: none"
                                             id="montantblock<%= r.id_chambre %>">
                                            Montant<input type="number" disabled class="back form-control"
                                                          id="montant<%= r.id_chambre %>" name="montant"
                                                          value="<%= r.prix %>">
                                        </div>
                                    </div>
                                <% }
                                }) %>
                            </div>
                        </div>
                        <div class="col-md-4 col-lg-4 col-xl-4">
                            <div class="chambre_standart">
                                <p>Chambre climatisée</p>
                                <% row.forEach(function(r){

                                if(r.categorie === 'chambre confort'){
                                %>
                                    <div class="row">
                                        <div class="col-md-4 col-lg-4">
                                            N°
                                            <%= r.id_chambre %>
                                            <input type="checkbox" class="back"
                                                   onchange="showMontant(<%= r.id_chambre %>)"
                                                   id="chambre<%= r.id_chambre %>" name="chambre"
                                                   value="<%= r.id_chambre %>">
                                        </div>
                                        <div class="col-md-6 col-lg-6" style="display: none"
                                             id="montantblock<%= r.id_chambre %>">
                                            Montant<input type="number" disabled class="back form-control"
                                                          id="montant<%= r.id_chambre %>" name="montant"
                                                          value="<%= r.prix %>">
                                        </div>

                                    </div>

                                <% }
                                }) %>

                            </div>
                        </div>
                        <div class="col-md-4 col-lg-4 col-xl-4">
                            <div class="chambre_standart">
                                <p>Salle de réunion</p>

                                <% row.forEach(function(r){
                                if(r.categorie === 'salle de reunion'){
                                %>
                                    <div class="row">
                                        <div class="col-md-4 col-lg-4">
                                            N°
                                            <%= r.id_chambre %>
                                            <input type="checkbox" class="back"
                                                   onchange="showMontant(<%= r.id_chambre %>)"
                                                   id="chambre<%= r.id_chambre %>" name="chambre"
                                                   value="<%= r.id_chambre %>">
                                        </div>
                                        <div class="col-md-6 col-lg-6" style="display: none"
                                             id="montantblock<%= r.id_chambre %>">
                                            Montant<input type="number" disabled class="back form-control"
                                                          id="montant<%= r.id_chambre %>" name="montant"
                                                          value="<%= r.prix %>">
                                        </div>
                                    </div>
                                <% }
                                }) %>

                            </div>

                            <div class="chambre_standart">
                                <p>Appartement</p>
                                <% row.forEach(function(r){
                                if(r.categorie === 'suite'){
                                %>
                                    <div class="row">
                                        <div class="col-md-4 col-lg-4">
                                            N°
                                            <%= r.id_chambre %>
                                            <input type="checkbox" onchange="showMontant(<%= r.id_chambre %>)"
                                                   class="back"
                                                   id="chambre<%= r.id_chambre %>" name="chambre"
                                                   value="<%= r.id_chambre %>">
                                        </div>
                                        <div class="col-md-6 col-lg-6" style="display: none"
                                             id="montantblock<%= r.id_chambre %>">
                                            Montant<input type="number" disabled class="back form-control"
                                                          id="montant<%= r.id_chambre %>" name="montant"
                                                          value="<%= r.prix %>">
                                        </div>
                                    </div>

                                <% }
                                }) %>
                                <!--                    <button class="back" id="gap">1</button>-->
                                <!--                    <button class="back">2</button>-->
                            </div>
                        </div>
                    </div>
                </div>
            </div>




        </div>
        <div class="row align-content-end float-center text-center">
            <div class="enregistrer  text-center" >

                <button type="submit" class="checked_in">Enregistrer</button>
            </div>
        </div>
    </form>
</section>


<!--------------------------------footer--------------------------------->
<footer>
    <div class="footer">
        copyrygth MI 2020
    </div>

</footer>
<!--------------------------------footer--------------------------------->


<!-----------------------------Jquery Library file---------------------------->
<script src="../../public/enregistrer/js/Jquery3.4.1.min.js"></script>

<!-----------------------------Custom javascript file------------------------->
<script src="../../public/enregistrer/js/main.js"></script>
<script>
    function showMontant(id) {
        var id_chambre = $('#chambre' + id).val();
        if (id_chambre == id) {
            if ($("#chambre" + id).is(':checked')) {
                $('#montantblock' + id).show(100);
                $('#montant' + id).attr('disabled', false);
                $('#montant' + id).prop('required', true);
            } else {
                $('#montant' + id).attr('disabled', true);
                $('#montantblock' + id).hide(100);
                $('#montant' + id).prop('required', false);
            }

        } else {
            $('#montant' + id).attr('disabled', true);
            $('#montantblock' + id).hide(100);
            $('#montant' + id).prop('required', false);
        }
    }
</script>
</body>

</html>